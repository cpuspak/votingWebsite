<!DOCTYPE html>

<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Jekyll v3.8.5">
  <title>Participant DashBoard</title>

  <link rel="canonical" href="">
  <!-- Bootstrap core CSS -->
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  
  <script src="/JavaScript/jquery-3.3.1.slim.min.js"></script>
  <script src="/JavaScript/popper.min.js"></script>
  <script src="/JavaScript/bootstrap.min.js"></script>
  <script src="/JavaScript/jquery.canvasjs.min.js"></script>
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
  <!-- Icons -->
  <link href="/vendor/nucleo/css/nucleo.css" rel="stylesheet">
  <link href="/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <!-- Argon CSS -->
  <link type="text/css" href="/css/argon.css?v=1.0.1" rel="stylesheet">
  <!-- Custom styles for this template -->
  <link href="/css/style.css" rel="stylesheet">
  <% if(voteshare.length) {%>
  <script>
  window.onload = function () {

  //Better to construct options first and then pass it as a parameter
    var options = {
      animationEnabled: true,
      theme: "dark2",
      backgroundColor: "rgba(73,73,73,0.9)",
      title: {
        text: "Vote Results"              
      },
      data: [              
      {
        // Change type to "doughnut", "line", "splineArea", etc.
        type: "column",
        dataPoints: [
          <%voteshare.forEach(function(row, i){%>
						{ label: "<%=row.NAME%>",  y: <%=row.COUNT%>  },
					<%});%>
        ]
	    }
	  ]
  };

    $("#chartContainer").CanvasJSChart(options);

  }
  </script>
  <%}%>

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
}
    </style>

    <style>
      .btn-secondary, .btn-secondary:hover, .btn-secondary:active, 
      .btn-secondary:visited, .btn-secondary:visited {
        border: 2px solid orangered;
        background-color: rgb(45, 46, 36);
        color: rgb(255, 255, 255);
      }
      body {
        height: 0;
      }
    </style>
  </head>

  <body class="text-center">
        <nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-dark">
              <div class="container">
                  <a class="navbar-brand" href="#"><h3 class="displayHead">Election System</h3></a>
                  <div class="collapse navbar-collapse justify-content-end" id="navbarNavAltMarkup">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="/home">Home</a>
                          </li>
                          <li class="nav-item">
                              <a class="nav-link" href="/developers">About Us</a>
                            </li>
                          <li class="nav-item">
                            <a class="nav-link">
								<form action="/ParticipantLogout" method="POST">
									<button  type="submit" value="Logout" class="btn btn-outline-danger btn-sm">Logout</button>
								</form>
                              </a>
                          </li>
                    </ul>
                  </div>
                </div>
        </nav>
    


<br>
<div>
  <h2 style="background-color:#575737a3 ;color:#e4dcf7; width:800px; position:relative; left:250px">Hi <%=name%></h2>
</div>
<div>
<% if (votedFor.length>0) { %>
<h4 style="background-color:#575737a3 ;color:#e4dcf7; width:800px; position:relative; left:250px">
You have voted for
	<strong><%= votedFor[0].NAME %>..</strong><br>
You can change your vote as many times as you want..
</h4>
<%}%>
</div>

<% if (isCandidate.length==0) {%>
<div>
	<br>
	<form action= <%= "/tem/"+uid+"/"+name %> method="POST">
		<button class="btn btn-icon btn-3 btn-success" type="submit" value="Register as Candidate">
				<span class="btn-inner--icon"><i class="ni ni-hat-3"></i></span>
			
				<span class="btn-inner--text">Register as Candidate</span>
			
		</button>
  </form>
	<br>
	<br>
</div>
<%}%>

<div class="container nav-wrapper">
  <ul class="nav nav-pills nav-fill flex-column flex-md-row" id="tabs-icons-text" role="tablist">
      <li class="nav-item">
          <a class="nav-link mb-sm-3 mb-md-0 active" id="tabs-icons-text-1-tab" data-toggle="tab" href="#tabs-icons-text-1" role="tab" aria-controls="tabs-icons-text-1" aria-selected="true">Vote Share</a>
      </li>
      <li class="nav-item">
          <a class="nav-link mb-sm-3 mb-md-0" id="tabs-icons-text-2-tab" data-toggle="tab" href="#tabs-icons-text-2" role="tab" aria-controls="tabs-icons-text-2" aria-selected="false">Candidate List</a>
      </li>
  </ul>
</div>

<div class="card shadow container bgcolor">
  <div class="card-body">
      <div class="tab-content" id="myTabContent">
          <div class="tab-pane fade show active" id="tabs-icons-text-1" role="tabpanel" aria-labelledby="tabs-icons-text-1-tab">
					<p class="description">
					<% if (message1.length>0) { %>
						<div><%= message1 %></div>
						 <% } %>
						 <!--
						 <% if (voteshare.length>0) {%>
						 <table class="table table-dark">
							 <thead>
								 <th scope="col">#</th>
								 <th scope="col">Candidate Name</th>
								 <th scope="col">Vote Count</th>
							 </thead>
							 <tbody>
								<%voteshare.forEach(function(row, i){%>
								<tr>
								<th scope="row"><%= i +1%></th>
								<td><%=row.NAME%></td>
								<td><%=row.COUNT%></td>
								<%});%>
								<%}%>
								</tr>
							 </tbody>
						 </table>
						 <%if (voteshare.length==0) {%>
						 <p>No candidate participated..</p>
             <%}%>
             -->
             <div id="chartContainer" style="height: 300px; width: 100%;"></div>
						 </p>
          </div>

          <div class="tab-pane fade" id="tabs-icons-text-2" role="tabpanel" aria-labelledby="tabs-icons-text-2-tab">
					<p class="description">
						Select your Candidate!
					</p>
					<% if (message1.length>0) { %>
						<div><%= message1 %></div>
						 <% } %>
						 
					<% if (candidatedetails.length) {%>	
					<form action=<%= "/saveVote/"+uid+"/"+name%> method="POST">
					<%candidatedetails.forEach(function(row, i){%>

						<div class="shadow p-2 mb-1 bgcolor rounded">
								<div class="container d-flex justify-content-between">
								  <h4><a data-toggle="collapse" href="#a<%= i%>" role="button" aria-expanded="false" aria-controls="a<%= i%>"><%= row.NAME%> </a></h4>
								  <div class="collapse" id="a<%= i%>">
									  <div class="card card-body bgcolor">
										<img src=<%= "/Images/candidateImages/"+uid+"_"+row.NAME+".jpg" %> alt="--Image--" heigth=150px width=150px><br>
										<%=row.DESCRIPTION%>
										  <!--<form action="/viewMoreAdminPoll" method="POST">
											<input type="submit" value="View More">
										  </form> -->
										  <br>										
									  </div>
								  </div>
								  <div class="custom-control custom-radio mb-3">
										<input name="vote" value= <%= row.NAME %> class="custom-control-input" id="customRadio<%= i%>" type="radio">
										<label class="custom-control-label" for="customRadio<%= i%>">Check to Vote</label>
								  </div>
								  <h4><a data-toggle="collapse" href="#a<%= i%>" role="button" aria-expanded="false" aria-controls="a<%= i%>"><i class="ni ni-bold-down "></i> </a></h4>
								</div>
							  </div>
								<br>
								<%});%>
							<button type="submit" class="btn btn-warning" value="Save vote">Save Vote</button>
						  </form>
						  <%}%>
          </div>

      </div>
  </div>
</div>

</body>
</html>

